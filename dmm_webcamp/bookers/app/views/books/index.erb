<% content_for :css do %>
    <%= stylesheet_link_tag 'books/index' %>
<% end %>

<% if flash[:notice] %>
    <div class="alert">
        <p><%= notice %></p>
    </div>
<% end %>

<h1>Books</h1>
<table>
    <thead>
        <th>Title</th>
        <th>Body</th>
        <th><br></th>
    </thead>
    <tbody>
        <% @books.each do |book| %>
        <tr>
            <td><%= book.title %></td>
            <td><%= book.body %></td>
            <td><%= link_to "Show", book_path(book.id) %></td>
            <td><%= link_to "Edit", edit_book_path(book.id) %></td>
            <td><%= link_to "Destroy", book_path(book.id), method: :delete, data: {confirm: "削除しますか？"} %></td>
        </tr>
        <% end %>
    </tbody>
</table>

<h2>New Books</h2>

<% if @book.errors.any? %>
    <div style="color: red">
        <h2><%= pluralize(@book.errors.count, "error") %> prohibited this book from being saved:</h2>
        <ul>
        <% @book.errors.full_messages.each do |message| %>
            <li><%= message %></li>
        <% end %>
        </ul>
    </div>
<% end %>

<%= form_with model: @book, url:'/books' do |f| %>
    <div class="field">
        <%= f.label :Title %> <br>
        <%= f.text_field :title %>
    </div>

    <div class="field">
        <%= f.label :Body %> <br>
        <%= f.text_area :body %>
    </div>

    <%= f.submit "Create Book" %>
<% end %>








<%
=begin%>

          Prefix Verb   URI Pattern                                                                                       Controller#Action
                           root GET    /                                                                                                 homes#top
                          books GET    /books(.:format)                                                                                  books#index
                                POST   /books(.:format)                                                                                  books#create
                       new_book GET    /books/new(.:format)                                                                              books#new
                      edit_book GET    /books/:id/edit(.:format)                                                                         books#edit
                           book GET    /books/:id(.:format)                                                                              books#show
                                PATCH  /books/:id(.:format)                                                                              books#update
                                PUT    /books/:id(.:format)                                                                              books#update
                                DELETE /books/:id(.:format)                                                                              books#destroy
<%
=end%>
